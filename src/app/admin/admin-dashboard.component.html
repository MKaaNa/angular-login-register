<div class="admin-dashboard">
    <h2>Admin Dashboard</h2>

    <!-- Kullanıcı yönetimi -->
    <div class="user-management">
        <h3>User Management</h3>
        <button (click)="openAddUserModal()">Add New User</button>

        <!-- Kullanıcı listesi -->
        <table class="user-table">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of users">
                    <td>{{ user.email }}</td>
                    <td>{{ user.role }}</td>
                    <td>
                        <button (click)="editUser(user.id)">Edit</button>
                        <button (click)="deleteUser(user.id)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

<!-- Admin Dashboard HTML -->
<div class="modal" *ngIf="showAddUserModal">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">&times;</span>
      <h2>Add New User</h2>
      <form (ngSubmit)="addUser()">
        <input type="email" [(ngModel)]="newUser.email" name="email" placeholder="Email" required />
        <input type="text" [(ngModel)]="newUser.role" name="role" placeholder="Role" required />
        <button type="submit">Add User</button>
      </form>
    </div>
  </div>
  
  <div class="modal" *ngIf="showAddUserModal">
    <div class="modal-content">
      <h4 *ngIf="newUser.id">Edit User</h4>
      <h4 *ngIf="!newUser.id">Add New User</h4>
      <form (ngSubmit)="addUser()">
        <label>Email:</label>
        <input type="email" [(ngModel)]="newUser.email" name="email" required />
  
        <label>Name:</label>
        <input type="text" [(ngModel)]="newUser.username" name="name" required />
  
        <label>Password:</label>
        <input type="password" [(ngModel)]="newUser.password" name="password" required />
  
        <label>Role:</label>
        <select [(ngModel)]="newUser.role" name="role" required>
          <option value="ADMIN">Admin</option>
          <option value="CUSTOMER">Customer</option>
        </select>
  
        <button type="submit">Submit</button>
        <button (click)="closeModal()" type="button">Cancel</button>
      </form>
    </div>
  </div>
  
  <button class="btn-logout" (click)="logout()">Logout</button>
  
  <!-- User List -->
  <table>
    <tr *ngFor="let user of users">
      <td>{{ user.email }}</td>
      <td>{{ user.name }}</td>
      <td>{{ user.userRole }}</td>
      <td>
        <button (click)="editUser(user.id)">Edit</button>
        <button (click)="deleteUser(user.id)">Delete</button>
      </td>
    </tr>
  </table>

  <div class="modal" *ngIf="showAddRoomModal">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">&times;</span>
      <h2>Add New Room</h2>
      <form (ngSubmit)="addRoom()">
        <input type="text" [(ngModel)]="newRoom.roomType" name="roomType" placeholder="Room Type" required />
        <input type="number" [(ngModel)]="newRoom.price" name="price" placeholder="Price" required />
        <button type="submit">Add Room</button>
      </form>
    </div>
  </div>

    <!-- Oda yönetimi -->
    <div class="room-management">
        <h3>Room Management</h3>
        <button (click)="openAddRoomModal()">Add New Room</button>

        <!-- Oda listesi -->
        <table class="room-table">
            <thead>
                <tr>
                    <th>Room Type</th>
                    <th>Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let room of rooms">
                    <td>{{ room.roomType }}</td>
                    <td>{{ room.price }}</td>
                    <td>
                        <button (click)="editRoom(room.id)">Edit</button>
                        <button (click)="deleteRoom(room.id)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Kullanıcı ekleme modalı -->
    <div *ngIf="showAddUserModal" class="modal">
        <div class="modal-content">
            <h4>Add New User</h4>
            <form (ngSubmit)="addUser()">
                <label for="email">Email</label>
                <input type="email" id="email" [(ngModel)]="newUser.email" name="email" required />

                <label for="role">Role</label>
                <input type="text" id="role" [(ngModel)]="newUser.role" name="role" required />

                <button type="submit">Create User</button>
                <button type="button" (click)="closeModal()">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Oda ekleme modalı -->
    <div *ngIf="showAddRoomModal" class="modal">
        <div class="modal-content">
            <h4>Add New Room</h4>
            <form (ngSubmit)="addRoom()">
                <label for="roomType">Room Type</label>
                <input type="text" id="roomType" [(ngModel)]="newRoom.roomType" name="roomType" required />

                <label for="price">Price</label>
                <input type="number" id="price" [(ngModel)]="newRoom.price" name="price" required />

                <button type="submit">Create Room</button>
                <button type="button" (click)="closeModal()">Cancel</button>
            </form>
        </div>
    </div>
</div>